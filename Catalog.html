<!DOCTYPE html>

<html>

<head>
    <title>Catalog></title>
    <link rel="stylesheet" href="./style/style.css">
    <script>"./js/app.js"</script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Aplicam stilul elementului cu atributul href care contine...-->
    <style>

        .nav-menu .nav-link[href^="Catalog"]{   
            color:red;
        letter-spacing:2px}
    </style>
</head>

<body>
    <nav>
        <ul class="nav-menu"> 
            <li>
                <a href="index.html" class="nav-link">Acasa</a>
            </li> 
            <li>
                <a href="Catalog.html" class="nav-link">Catalog</a>
            </li> 
            <li>
                <a href="Contact.html" class="nav-link">Contact</a>
            </li>          
        </ul>
        <span id="mode-toggle"></span>
    </nav>
    <!--Meniu Navigatie-->

    <!-- Continut pagina -->
    <main class="catalog">
        <form id="searchForm">
            <input type="text" placeholder="Cauta">
            <button type="submit">Cauta</button>
        </form>
        <ul class="cards-list"></ul>
    </main>

    <script src="./js/app.js"></script>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
            import{ getDatabase, ref, child, get}from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js"
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            const firebaseConfig = {
              apiKey: "AIzaSyAUUi3UXzI5HByVFamPb28nxsOeSGiARdQ",
              authDomain: "html-2-37582.firebaseapp.com",
              databaseURL: "https://html-2-37582-default-rtdb.europe-west1.firebasedatabase.app",
              projectId: "html-2-37582",
              storageBucket: "html-2-37582.appspot.com",
              messagingSenderId: "802112636937",
              appId: "1:802112636937:web:3df402ff12f5bbcb5c90d8"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            // Initializam baza de date
            const  database = getDatabase(app);
            // referinta catre basa de date
            const dbRef = ref(database);
    
            get(child(dbRef, 'proiecte'))
            .then(function (data){
                if(data.exists()){
                    const listaProiecte = data.val();
                    console.log(listaProiecte);
    
                    // Pentru fiecare proiect din lista generam un card folosind functia generateCard din app.js
                    listaProiecte.forEach(function(project){
                        generateCard(project)
                    });

                    projects = listaProiecte;
                }
                else{
                    console.log("no data available")
                }
            })
    
            .catch(function(error){
                console.log(error)
            })
          </script>
</body>
</html>